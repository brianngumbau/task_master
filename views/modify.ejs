<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Task</title>
    <link rel="stylesheet" href="/styles/tasks.css">
</head>
<body>
    <div class="container">
        <%- include("partials/header.ejs") %>
        <h1>
            <%= heading %>
        </h1>
        <% if (locals.task) { %>
            <form id="editTaskForm" method="post" action="/api/tasks/<%=task.id%>">
                <input type="text" name="title" value="<%=task.title %>">
                <input type="text" name="category" value="<%=task.category %>">
                <textarea id="description" rows="5" name="description"><%=task.description %></textarea>
                <input type="date" name="duedate" value="<%=task.duedate %>">
                <button class="full" type="submit">
                    <%= submit %>
                </button>
            </form>
        <%} else { %>
            <form id="newTaskForm" method="post" action="/api/tasks">
                <input type="text" name="title" placeholder="Title" required>
                <input type="text" name="category" placeholder="Category">
                <textarea name="description" placeholder="Description" required rows="5"></textarea>
                <label for="duedate">Due Date:</label>
                <input type="date" name="duedate" placeholder="MM/DD/YYYY" required>
                <button class="full" type="submit">
                    <%= submit %>
                </button>
            </form>
        <%} %>
        <br>
        <%- include("partials/footer.ejs") %>
        </div>
        </body>
        </html>